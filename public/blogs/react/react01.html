<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React | 8_KOBE_24</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/logo.jpeg">
    <meta name="description" content="愿你走出半生 归来仍是少年">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.bfc5d3a4.css" as="style"><link rel="preload" href="/assets/js/app.1cf7dfac.js" as="script"><link rel="preload" href="/assets/js/3.f4fb3d7b.js" as="script"><link rel="preload" href="/assets/js/1.3aa5e91a.js" as="script"><link rel="preload" href="/assets/js/65.3f99d282.js" as="script"><link rel="prefetch" href="/assets/js/10.fcffca06.js"><link rel="prefetch" href="/assets/js/11.61138578.js"><link rel="prefetch" href="/assets/js/12.3e888d92.js"><link rel="prefetch" href="/assets/js/13.d4ad8b10.js"><link rel="prefetch" href="/assets/js/14.d5723f16.js"><link rel="prefetch" href="/assets/js/15.531ccdbc.js"><link rel="prefetch" href="/assets/js/16.157944be.js"><link rel="prefetch" href="/assets/js/17.1226ec6b.js"><link rel="prefetch" href="/assets/js/18.1cea280e.js"><link rel="prefetch" href="/assets/js/19.b2523bf2.js"><link rel="prefetch" href="/assets/js/20.f009eb16.js"><link rel="prefetch" href="/assets/js/21.daac1cc8.js"><link rel="prefetch" href="/assets/js/22.3656f6fc.js"><link rel="prefetch" href="/assets/js/23.73e9c445.js"><link rel="prefetch" href="/assets/js/24.05cad245.js"><link rel="prefetch" href="/assets/js/25.ff1c0d24.js"><link rel="prefetch" href="/assets/js/26.9781fad2.js"><link rel="prefetch" href="/assets/js/27.2a0e2b58.js"><link rel="prefetch" href="/assets/js/28.93f516a7.js"><link rel="prefetch" href="/assets/js/29.1146e8df.js"><link rel="prefetch" href="/assets/js/30.9aa95942.js"><link rel="prefetch" href="/assets/js/31.d44dc315.js"><link rel="prefetch" href="/assets/js/32.ae92aef7.js"><link rel="prefetch" href="/assets/js/33.5be8a872.js"><link rel="prefetch" href="/assets/js/34.7a86e974.js"><link rel="prefetch" href="/assets/js/35.ab3202a3.js"><link rel="prefetch" href="/assets/js/36.8865a8bf.js"><link rel="prefetch" href="/assets/js/37.460e71a3.js"><link rel="prefetch" href="/assets/js/38.4f835cf5.js"><link rel="prefetch" href="/assets/js/39.daf467a9.js"><link rel="prefetch" href="/assets/js/4.72038e90.js"><link rel="prefetch" href="/assets/js/40.d9d30a89.js"><link rel="prefetch" href="/assets/js/41.ff910c42.js"><link rel="prefetch" href="/assets/js/42.33aaf0ed.js"><link rel="prefetch" href="/assets/js/43.3d2deb44.js"><link rel="prefetch" href="/assets/js/44.8ebdde94.js"><link rel="prefetch" href="/assets/js/45.2c5e798a.js"><link rel="prefetch" href="/assets/js/46.ea5211ce.js"><link rel="prefetch" href="/assets/js/47.944e7b46.js"><link rel="prefetch" href="/assets/js/48.cc935dc4.js"><link rel="prefetch" href="/assets/js/49.a8f88b68.js"><link rel="prefetch" href="/assets/js/5.737f605f.js"><link rel="prefetch" href="/assets/js/50.2e9ab8ec.js"><link rel="prefetch" href="/assets/js/51.5d473f04.js"><link rel="prefetch" href="/assets/js/52.cc64b79e.js"><link rel="prefetch" href="/assets/js/53.a08e96d8.js"><link rel="prefetch" href="/assets/js/54.f413c85d.js"><link rel="prefetch" href="/assets/js/55.9fd344e1.js"><link rel="prefetch" href="/assets/js/56.91968754.js"><link rel="prefetch" href="/assets/js/57.653d7c8d.js"><link rel="prefetch" href="/assets/js/58.643b8e03.js"><link rel="prefetch" href="/assets/js/59.f0e853b1.js"><link rel="prefetch" href="/assets/js/6.5d7ff82c.js"><link rel="prefetch" href="/assets/js/60.eeae0424.js"><link rel="prefetch" href="/assets/js/61.0e2aa74f.js"><link rel="prefetch" href="/assets/js/62.e7ca5fff.js"><link rel="prefetch" href="/assets/js/63.878e5005.js"><link rel="prefetch" href="/assets/js/64.5f416ccd.js"><link rel="prefetch" href="/assets/js/66.cb87b199.js"><link rel="prefetch" href="/assets/js/67.92d947a9.js"><link rel="prefetch" href="/assets/js/68.e47312f7.js"><link rel="prefetch" href="/assets/js/69.7f33d89a.js"><link rel="prefetch" href="/assets/js/7.5b3bf9ae.js"><link rel="prefetch" href="/assets/js/70.de156ce4.js"><link rel="prefetch" href="/assets/js/71.556b3d18.js"><link rel="prefetch" href="/assets/js/72.886aabdd.js"><link rel="prefetch" href="/assets/js/73.392d4771.js"><link rel="prefetch" href="/assets/js/74.0d8b363c.js"><link rel="prefetch" href="/assets/js/75.128d1a24.js"><link rel="prefetch" href="/assets/js/76.e6ed6931.js"><link rel="prefetch" href="/assets/js/77.b8470665.js"><link rel="prefetch" href="/assets/js/78.37412e41.js"><link rel="prefetch" href="/assets/js/79.63dc52a9.js"><link rel="prefetch" href="/assets/js/8.afb0abf3.js"><link rel="prefetch" href="/assets/js/80.c98aacb3.js"><link rel="prefetch" href="/assets/js/81.6af83755.js"><link rel="prefetch" href="/assets/js/82.04be33b9.js"><link rel="prefetch" href="/assets/js/83.25933a1e.js"><link rel="prefetch" href="/assets/js/9.230b9328.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bfc5d3a4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-dad8a512><div data-v-dad8a512><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-dad8a512 data-v-dad8a512><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-dad8a512 data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>8_KOBE_24</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>hexiaolong</span>
            
          <span data-v-64685f0e>2020 - </span>
          2021
        </a></span></div></div> <div class="hide" data-v-dad8a512><header class="navbar" data-v-dad8a512><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpeg" alt="8_KOBE_24" class="logo"> <span class="site-name">8_KOBE_24</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  KOBE
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      前端总结
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/CSS/" class="nav-link"><i class="iconfont undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Happy/" class="nav-link"><i class="iconfont undefined"></i>
  Happy
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/Jenkins/" class="nav-link"><i class="iconfont undefined"></i>
  Jenkins
</a></li><li class="dropdown-item"><!----> <a href="/categories/nginx/" class="nav-link"><i class="iconfont undefined"></i>
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue.js/" class="nav-link"><i class="iconfont undefined"></i>
  Vue.js
</a></li><li class="dropdown-item"><!----> <a href="/categories/electron/" class="nav-link"><i class="iconfont undefined"></i>
  electron
</a></li><li class="dropdown-item"><!----> <a href="/categories/network/" class="nav-link"><i class="iconfont undefined"></i>
  network
</a></li><li class="dropdown-item"><!----> <a href="/categories/nw/" class="nav-link"><i class="iconfont undefined"></i>
  nw
</a></li><li class="dropdown-item"><!----> <a href="/categories/pro/" class="nav-link"><i class="iconfont undefined"></i>
  pro
</a></li><li class="dropdown-item"><!----> <a href="/categories/React.js/" class="nav-link"><i class="iconfont undefined"></i>
  React.js
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpack/" class="nav-link"><i class="iconfont undefined"></i>
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  逝水流年
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-coding"></i>
      解忧杂货铺
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Kobe Bryant</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/kobe/record/" class="nav-link"><i class="iconfont undefined"></i>
  辉煌生涯
</a></li><li class="dropdown-subitem"><a href="/docs/kobe/shoes/" class="nav-link"><i class="iconfont undefined"></i>
  球鞋
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/docs/home/" class="nav-link"><i class="iconfont undefined"></i>
  此心安处是吾乡
</a></li><li class="dropdown-item"><!----> <a href="/docs/chaoliu/" class="nav-link"><i class="iconfont undefined"></i>
  愿我如星君如月
</a></li><li class="dropdown-item"><!----> <a href="/docs/offwhite/" class="nav-link"><i class="iconfont undefined"></i>
  夜夜流光相皎洁
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/hexiaolong24" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-dad8a512></div> <aside class="sidebar" data-v-dad8a512><div class="personal-info-wrapper" data-v-ca798c94 data-v-dad8a512><img src="/hxl.png" alt="author-avatar" class="personal-img" data-v-ca798c94> <h3 class="name" data-v-ca798c94>
    hexiaolong
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>57</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>26</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  KOBE
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      前端总结
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/CSS/" class="nav-link"><i class="iconfont undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Happy/" class="nav-link"><i class="iconfont undefined"></i>
  Happy
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/Jenkins/" class="nav-link"><i class="iconfont undefined"></i>
  Jenkins
</a></li><li class="dropdown-item"><!----> <a href="/categories/nginx/" class="nav-link"><i class="iconfont undefined"></i>
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue.js/" class="nav-link"><i class="iconfont undefined"></i>
  Vue.js
</a></li><li class="dropdown-item"><!----> <a href="/categories/electron/" class="nav-link"><i class="iconfont undefined"></i>
  electron
</a></li><li class="dropdown-item"><!----> <a href="/categories/network/" class="nav-link"><i class="iconfont undefined"></i>
  network
</a></li><li class="dropdown-item"><!----> <a href="/categories/nw/" class="nav-link"><i class="iconfont undefined"></i>
  nw
</a></li><li class="dropdown-item"><!----> <a href="/categories/pro/" class="nav-link"><i class="iconfont undefined"></i>
  pro
</a></li><li class="dropdown-item"><!----> <a href="/categories/React.js/" class="nav-link"><i class="iconfont undefined"></i>
  React.js
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpack/" class="nav-link"><i class="iconfont undefined"></i>
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  逝水流年
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-coding"></i>
      解忧杂货铺
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Kobe Bryant</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/kobe/record/" class="nav-link"><i class="iconfont undefined"></i>
  辉煌生涯
</a></li><li class="dropdown-subitem"><a href="/docs/kobe/shoes/" class="nav-link"><i class="iconfont undefined"></i>
  球鞋
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/docs/home/" class="nav-link"><i class="iconfont undefined"></i>
  此心安处是吾乡
</a></li><li class="dropdown-item"><!----> <a href="/docs/chaoliu/" class="nav-link"><i class="iconfont undefined"></i>
  愿我如星君如月
</a></li><li class="dropdown-item"><!----> <a href="/docs/offwhite/" class="nav-link"><i class="iconfont undefined"></i>
  夜夜流光相皎洁
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/hexiaolong24" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>React</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>hexiaolong</span>
            
          <span data-v-64685f0e>2020 - </span>
          2021
        </a></span></div></div> <div data-v-dad8a512><main class="page"><div class="page-title" style="display:none;"><h1>React</h1> <hr> <div data-v-aa64b9d0><i class="iconfont reco-account" data-v-aa64b9d0><span data-v-aa64b9d0>hexiaolong</span></i> <i class="iconfont reco-date" data-v-aa64b9d0><span data-v-aa64b9d0>2019-09-01</span></i> <i class="iconfont reco-eye" data-v-aa64b9d0><span id="/blogs/react/react01.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-aa64b9d0><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-aa64b9d0><span class="tag-item" data-v-aa64b9d0>React.js</span><span class="tag-item" data-v-aa64b9d0>前端</span><span class="tag-item" data-v-aa64b9d0>框架</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="react的理解"><a href="#react的理解" class="header-anchor">#</a> react的理解</h2> <ul><li><p>react是用于动态构建用户界面的js库，由Facebook开源</p></li> <li><p>Declarative ，react是声明式的编码，相对的是命令式的</p></li> <li><p>Component-Based 组件化</p></li> <li><p>Learn Once, Write Anywhere(React Native/支持客户端与服务器渲染)</p></li> <li><p>高效</p> <ul><li><p>虚拟DOM，不总是直接操作DOM(批量更新，减少更新的次数)</p></li> <li><p>DOM Diff算法，最小化页面重绘(减小页面更新的区域)</p></li></ul></li> <li><p>单向数据流</p></li></ul> <h2 id="创建虚拟dom"><a href="#创建虚拟dom" class="header-anchor">#</a> 创建虚拟DOM</h2> <ul><li><p>原生js语法 React.createElement('标签名',{&quot;属性&quot;：&quot;属性值&quot;}，&quot;内容&quot;)</p></li> <li><p>JSX</p> <ul><li>react定义的一种类似于XML的JS扩展语法：XML+JS</li> <li>作用：用来创建虚拟DOM对象</li> <li>规则：遇到&lt;开头的代码以标签的语法解析，必须小写，大写就会以组件来解析，遇到{开头，以JS语法解析，标签中的js表达式必须用{}包含</li></ul></li></ul> <h2 id="函数组件"><a href="#函数组件" class="header-anchor">#</a> 函数组件</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//console.log(this) //此处的this是undefined，因为经过babel贬义后，开启了严格模式，严格模式中禁止this指向window</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>哈哈<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>函数组件不会被实例化，不会产生组件对象（创建没必要的实例对象是对性能的优化）</p> <p>没有自身的生命周期钩子和状态(函数没有生命周期，在加载上也会块一点)</p> <h2 id="类的方式创建组件"><a href="#类的方式创建组件" class="header-anchor">#</a> 类的方式创建组件</h2> <p>组件不是静态的，组件又叫状态机，组件时刻有自己的状态</p> <p>使用场景</p> <ul><li>组件有不同的状态</li> <li>需要异步获取数据</li> <li>需要在不同的加载阶段显示不同的内容</li></ul> <h2 id="state"><a href="#state" class="header-anchor">#</a> state</h2> <p>组件实例对象的state属性默认值是null</p> <ol><li><p>添加方式</p> <ul><li>constructor: this.state = {}</li> <li>class类对象中直接定义: state = {}</li> <li>通过setState去间接的定义state属性</li></ul></li> <li><p>修改state只能用this.setState</p> <ul><li>修改state对象的状态值</li> <li>触发页面update()，重新render()</li> <li>通过this.state.data = '123'这种方式修改state，用react插件可以看到state确实是变了，但是不会触发页面update()，重新render()</li> <li>如果state中的属性的属性值是对象或者数组，修改的时候不能用解构赋值的方式取出来直接修改，需要let haha = [...this.state.haha],浅拷贝一下，如果你之后不setState,只是用于展示，那就不必要这样，可以直接解构赋值取出，原因是如果你使用的是PureComponent,如果不这样浅拷贝的话当前组件不会监听到state的变化，不会重新render，因为PureComponent的原理是对新旧state和props中的数据进行浅拷贝，引出Component,和PureComponent的区别</li></ul></li> <li><p>关于setState()</p> <ul><li>两种写法</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>callback<span class="token punctuation">)</span>
<span class="token comment">//callback在状态数据更新，且界面更新之后立即执行</span>
<span class="token comment">//如果需要在setState()后获取最新的state，在函数方式的第二个参数callback中读取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>xxx<span class="token operator">:</span><span class="token string">&quot;yyy&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//对象方式是函数方式的简写方式，</span>
<span class="token comment">//如果新状态不依赖原状态，使用对象方式</span>
<span class="token comment">//如果新状态依赖于原状态，使用函数方式</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><p>setState()是同步的还是异步的</p> <ul><li>在react控制的回调函数中：生命周期函数，react事件监听回调中是异步的</li> <li>在非react控制的异步回调函数中：定时器回调，原生事件监听回调，promise回调中是同步的</li></ul></li></ul></li></ol> <ul><li><p>关于异步的setState()多次调用如何处理</p> <ul><li>setState({})：合并更新一次状态，只调用一次render()更新界面，状态更新和界面更新都合并了</li> <li>setState(fn)：更新多次状态，但只调用一次render()更新界面，状态更新没有合并，但界面更新合并了</li></ul></li></ul> <h2 id="关于this"><a href="#关于this" class="header-anchor">#</a> 关于this</h2> <ul><li>在react中，用ES6这种形式定义组件，react底层将所有程序员自定义的方法中的this全部修改为undefined，react自带的方法中的this是组件的实例对象</li></ul> <h2 id="props"><a href="#props" class="header-anchor">#</a> Props</h2> <ul><li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span>
<span class="token comment">//需要引入新的文件，申明接受的参数</span>
<span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired
<span class="token punctuation">}</span>
<span class="token comment">//设置参数默认值</span>
<span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>父传子通过标签属性的形式传参，如果是基本数据类型，只读不能修改</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;wade&quot;</span><span class="token comment">//错误，不能直接修改，会报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>但是如果是引用数据类型，对象、函数，其实是可以修改的，因为引用数据类型传过来的是引用地址，这样修改完其实父组件中state也会变，因为指向同一块堆空间中的地址，但是不建议这样，因为父组件中的数据有可能是多个组件同时在使用，而且这种修改也不会受到监听，所以我们还是要按照数据在哪里，就在哪里更新的原则来操作</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//props传参的形式</span>
name <span class="token operator">=</span> <span class="token string">&quot;kobe&quot;</span>
name <span class="token operator">=</span> <span class="token punctuation">{</span>person<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token operator">...</span>person<span class="token punctuation">}</span><span class="token comment">//其实最外层应该再包一个大括号，因为遇到js代码就要包一个大括号，同时...作用于对象的时候，外层就应该包一个，不能直接写，这是react和babel帮我们做了</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <h2 id="refs属性"><a href="#refs属性" class="header-anchor">#</a> refs属性</h2> <ul><li><p>添加方式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//保存在refs属性中，属性值是一个对象，有多个key-value</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;input1&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>input1<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs

<span class="token comment">//第二种写法</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">input</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>input1<span class="token operator">=</span>input<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>input1<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>

<span class="token comment">//第三种写法</span>
myRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> input1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token punctuation">.</span>current
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ul> <h2 id="区别三大属性"><a href="#区别三大属性" class="header-anchor">#</a> 区别三大属性</h2> <ul><li>state：值为容器对象，保存的是组件内可变的数据，组件根据state中的数据显示，要更新界面只要更新state即可，</li> <li>props：值为容器对象，保存的是组件从外部接受过来的数据，当前组件只读，如果父组件修改了自动显示最新的数据</li> <li>refs：值为容器对象，保存的是n个有ref属性的dom元素对象，属性名是ref指定的标识名称，值是对应的dom元素，设置方式不同，获取的方式也不同</li></ul> <h2 id="生命周期函数（钩子）"><a href="#生命周期函数（钩子）" class="header-anchor">#</a> 生命周期函数（钩子）</h2> <ol><li><p>初始化</p> <ul><li>触发条件：ReactDOM.render()</li> <li>constructor(){}创建组件对象的初始化方法，断点如果在这里不主动添加state，不会有state属性</li> <li><strong>即将过时</strong>componentWillMount(){} 组件即将被挂载，渲染到页面上，到这一步，添加了state，值为null</li> <li>render(){}提供虚拟DOM，可能会调用多次（n+1）</li> <li>componentDidMount(){}:进行异步操作，比如启动定时器，发送异步请求，只执行一次</li></ul></li> <li><p>更新</p> <ul><li>触发条件：this.setState({})</li> <li><strong>即将过时</strong>componentWillUpdate(){}</li> <li>render(){}</li> <li>componentDidUpdate(){}</li></ul></li> <li><p>卸载</p> <ul><li>触发条件：ReactDOM.unmountComponentAtNode()，销毁组件实例对象，释放内存，将之前放入页面的DOM对象从HTML页面中移除</li> <li>componentWillUnmount(){}：清除定时器，只执行一次</li></ul></li> <li><p>性能优化</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">shouldComponentUpdata</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span>nextState</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">//最新的props和最新的state</span>
	<span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token comment">//返回false，不会更新界面</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span> <span class="token comment">//默认返回true，更新界面</span>
<span class="token punctuation">}</span>


<span class="token operator">**</span>即将过时<span class="token operator">**</span>
<span class="token comment">//父组件重新render，子组件props改变</span>
<span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span><span class="token parameter">nextProps</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props <span class="token comment">//上一次的props</span>
    nextProps <span class="token comment">//最新的props</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>关于component和PureComponent
<ul><li>Component存在的问题
<ul><li>当前组件自己setState({})，会重新执行render，即使state没有变化</li> <li>父组件重新render，子组件也会重新render，即使接收的参数没有任何变化</li></ul></li> <li>解决Component存在的问题
<ul><li>原因：组件的shouldComponentUpdate()默认返回true，即使数据没有任何变化，render也会重新执行</li> <li>办法1：重写shouldComponentUpdate(){}</li> <li>办法2：使用PureComponent来优化组件性能</li> <li>说明：一般都是用PureComponent来优化组件性能</li></ul></li> <li>PureComponent的原理
<ul><li>重写shouldComponentUpdate(){}</li> <li>对组件的新旧state和props中的数据进行浅比较，如果都没有变化，返回false，否则返回true</li> <li>一旦shouldComponentUpdate返回false，不再执行render</li></ul></li></ul></li></ul></li> <li><p>注意点</p> <ul><li><p>尽量不要在componentWillMount中发送请求或者添加运算量特别大的代码片段，会导致首屏加载时间过长，用户体验差</p></li> <li><p>componentWillMount: 在第一次render()前调用一次, 为第一次render()准备数据(同步)</p></li> <li><p>componentDidMount: 在第一次render()之后调用一次, 启动异步任务, 后面异步更新状态重新render</p></li></ul></li></ol> <h2 id="react组件化编码的三个步骤和两个重要问题"><a href="#react组件化编码的三个步骤和两个重要问题" class="header-anchor">#</a> React组件化编码的三个步骤和两个重要问题</h2> <ul><li><p>拆分组件</p></li> <li><p>实现静态页面</p></li> <li><p>实现动态页面</p> <ul><li>状态数据在哪个组件保存？哪个组件需要在哪个保存，如果多个都需要在父组件中</li> <li>状态在哪，更新状态的行为就定义在哪</li></ul></li></ul> <h2 id="react中的组件间通信的4种方式"><a href="#react中的组件间通信的4种方式" class="header-anchor">#</a> React中的组件间通信的4种方式</h2> <ol><li><p>通过props传递</p> <ul><li>父传子：通过标签属性的方式传递，子组件通过this.props.xxx来接受</li> <li>子传父：在父组件中定义一个函数，通过标签属性的方式传递给子组件，子组件通过调用函数的方式，将父组件所需要的数据以实参的方式传递给父组件</li> <li>缺点：只能一层一层传递，如果是兄弟组件之间传递，必须先传给父组件，不能直接传递，适合父子之间的通信</li></ul></li> <li><p>使用消息订阅与发布机制（pubsub-js）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//订阅消息,一般在componentDidMount中先订阅消息</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>token<span class="token operator">=</span>Pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//发布消息,什么时候需要传递什么时候发布消息</span>
Pubsub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span>
<span class="token comment">//解绑</span>
Pubsub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>token<span class="token punctuation">)</span>
Pubsub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">)</span>
Pubsub<span class="token punctuation">.</span><span class="token function">clearAllsubscriptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>自定义Pubsub</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//整体结构</span>
message <span class="token operator">=</span> <span class="token punctuation">{</span>
    msg1<span class="token operator">:</span> <span class="token punctuation">{</span>
        token1：fun1
        token2<span class="token operator">:</span> fun2
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    msg2<span class="token operator">:</span> <span class="token punctuation">{</span>
        token1：fun1
        token2<span class="token operator">:</span> fun2
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//自定义实现</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">w</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>

  <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 事件总线对象</span>
  <span class="token keyword">var</span> MyPubSub <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 向外暴露的操作对象</span>
  <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment">// 订阅方法</span>
  <span class="token keyword">function</span> <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 验证回调的有效性</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">typeof</span> func <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 2. 判断之前是否定义过msg事件</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>message<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      message<span class="token punctuation">[</span>msg<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 3. 生成唯一标识字段</span>

    num<span class="token operator">++</span>
    <span class="token keyword">var</span> token <span class="token operator">=</span> num<span class="token operator">+</span><span class="token string">''</span>
    <span class="token comment">// 4. 将自定事件对应的回调和自定义事件名</span>
    message<span class="token punctuation">[</span>msg<span class="token punctuation">]</span><span class="token punctuation">[</span>token<span class="token punctuation">]</span> <span class="token operator">=</span> func
    <span class="token keyword">return</span> token
  <span class="token punctuation">}</span>

<span class="token comment">// 发布消息的方法</span>
  <span class="token keyword">function</span> <span class="token function">publish</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 找到事件名</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>message<span class="token punctuation">[</span>msg<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> obj <span class="token operator">=</span> message<span class="token punctuation">[</span>msg<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> func<span class="token punctuation">;</span>
    <span class="token comment">// 遍历取出自定义事件额回调</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> s <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
      func <span class="token operator">=</span> obj<span class="token punctuation">[</span>s<span class="token punctuation">]</span>
      <span class="token comment">// 调用自定义事件的回调</span>
      <span class="token function">func</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>

<span class="token comment">// 将方法统一添加到暴露对象中： MyPubSub</span>
  MyPubSub<span class="token punctuation">.</span>subscribe <span class="token operator">=</span> subscribe<span class="token punctuation">;</span>
  MyPubSub<span class="token punctuation">.</span>publish <span class="token operator">=</span> publish<span class="token punctuation">;</span>
  w<span class="token punctuation">.</span>MyPubSub<span class="token operator">=</span>MyPubSub
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span>

<span class="token comment">// 向外暴露</span>
<span class="token comment">// export default MyPubSub;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div></li></ol> <p>​	3. redux</p> <ul><li>通过redux可以实现任意组件间的通信</li> <li>集中式管理多个组件共享的状态</li></ul> <p>4.ref通信（子传父）</p> <ul><li>先在子组件中定义好方法，在父组件中给子组件设置ref属性，找到子组件，然后调用子组件提前定义好的方法，什么时候需要数据，什么时候调用子组件中的函数</li> <li>区别ref子传父和props子传父
<ul><li>ref子传父是子组件提前定义好，父组件主动调用</li> <li>props是子组件主动传递，父组件被动接受</li></ul></li></ul> <h2 id="谈谈react-router的理解"><a href="#谈谈react-router的理解" class="header-anchor">#</a> 谈谈react-router的理解</h2> <ul><li>路由器</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//路由器：管理路由地址请求，分发路由</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>BrowserRouter<span class="token punctuation">,</span>HashRouter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
<span class="token comment">//BrowserRouter操控的是浏览器对象</span>
<span class="token comment">//HashRouter有#，操控的是哈希值URL</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>HashRouter<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>App<span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>HashRouter<span class="token operator">&gt;</span>
    <span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>路由和路由链接</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Link<span class="token punctuation">,</span>NavLink<span class="token punctuation">,</span>Route<span class="token punctuation">,</span>Redirect<span class="token punctuation">,</span>Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span>
<span class="token comment">//Link和NavLink的区别，NavLink可以自定义选中的样式，类名是activeClassName</span>
<span class="token operator">&lt;</span>NavLink to<span class="token operator">=</span><span class="token string">&quot;/about&quot;</span><span class="token operator">&gt;</span>About<span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
<span class="token comment">//写在Switch中匹配好一个路由就会停止，如果不加会继续查找，效率高</span>

<span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/about'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/home'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Redirect <span class="token keyword">from</span><span class="token operator">=</span><span class="token string">&quot;/fff&quot;</span> to<span class="token operator">=</span><span class="token string">'/home'</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token comment">//重定向，自动跳转到to后面的路由地址，如果有from，必须在from的地址基础上才能重定向，而且from必须在Switch中才起作用，重定向一般都放在最后使用</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
<span class="token comment">//默认是模糊查找只要&quot;/&quot;,如果输入&quot;/home&quot;,会显示两个，加上exact就是精准查找，就像数组中也有效率高的方法也有效率低的方法，比如find,findIndex等等这些方法找到一个满足条件的就会返回对应的结果，不会一直遍历下去，而forEach等方法就会一直遍历下去</span>
<span class="token comment">//精准查找也有弊端，比如下面这个一级路由用到了精确查找，那么久不会跳转到二级路由，原因就是一级路由的精确查找无法满足，所以根本跳不到二级路由</span>
<span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">'/about'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/about/detail'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Detail<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token comment">//二级路由</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li><p>react-router-dom是react一个专门用来实现SPA应用的插件库</p></li> <li><p>SPA就是单页面应用(single page web application),整个应用只有一个完整的页面,点击页面中的链接不会刷新页面, 本身也不会向服务器发请求,当点击路由链接时, 只会做页面的局部更新,数据通过ajax请求获取，并在前端页面异步展现</p></li> <li><p>对于路由的理解</p> <ul><li>一个路由就是一个映射关系（key:value）</li> <li>key为路由路径，value可能是function/component</li></ul></li> <li><p>路由的分类</p> <ul><li>后台路由: node服务器端路由, value是function, 用来处理客户端提交的请求并返回一个响应数据</li> <li>前台路由: 浏览器端路由, value是component, 当请求的是路由path时, 浏览器端前没有发送http请求, 但界面会更新显示对应的组件</li></ul></li> <li><p>history API</p> <p>a. History.createBrowserHistory(): 得到封装window.history的管理对象</p> <p>b. History.createHashHistory(): 得到封装window.location.hash的管理对象</p> <p>c. history.push(): 添加一个新的历史记录</p> <p>d. history.replace(): 用一个新的历史记录替换当前的记录</p> <p>e. history.goBack(): 回退到上一个历史记录</p> <p>f. history.goForword(): 前进到下一个历史记录</p> <p>g. history.listen(function(location){}): 监视历史记录的变化</p></li></ul> <h2 id="路由传参"><a href="#路由传参" class="header-anchor">#</a> 路由传参</h2> <ul><li><p>params传参,是在请求路由的时候传入的，在当前页面也能给自己传参</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1 注册路由</span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'路由路径/:key'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>路由组件<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">//2 请求路由</span>
<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;路由路径/value&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">//3 组件内部获取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params<span class="token punctuation">.</span>key <span class="token operator">=</span> value

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>query传参,是在请求路由的时候传入的，前提是必须由其他页面跳转过来，在当前页面不起作用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1 注册路由</span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'路由路径'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>路由组件<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">//2 请求路由</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pathname <span class="token operator">:</span> <span class="token string">'路由路径'</span> <span class="token punctuation">,</span>query <span class="token operator">:</span> <span class="token punctuation">{</span>参数对象<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>pathname<span class="token operator">:</span><span class="token string">'路由路径'</span><span class="token punctuation">,</span>query<span class="token operator">:</span><span class="token punctuation">{</span>参数对象<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">//3 组件内部获取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>query


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>state传参,在当前页面也能给自己传参，而且state传的参数是加密的，query传的参数是公开的，在地址栏</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1 注册路由</span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'路由路径'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>路由组件<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">//2 请求路由</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pathname <span class="token operator">:</span> <span class="token string">'路由路径'</span> <span class="token punctuation">,</span>state <span class="token operator">:</span> <span class="token punctuation">{</span>参数对象<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>pathname<span class="token operator">:</span><span class="token string">'路由路径'</span><span class="token punctuation">,</span>state<span class="token operator">:</span><span class="token punctuation">{</span>参数对象<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">//3 组件内部获取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>state


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>props传参，是在注册路由的时候通过标签属性的形式来传递的</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1 注册路由</span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'路由路径'</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>路由组件 key<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">//2 请求路由</span>
<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;路由路径&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">//3 组件内部获取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>key <span class="token operator">=</span> value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>如果是BrowserRouter,可以通过这种方式，作为第二个参数，传给跳转到的组件,注意HashRouter不可以这样传递</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;/product/add&quot;</span><span class="token punctuation">,</span>product<span class="token punctuation">)</span>
<span class="token keyword">const</span> product <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>state
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <h2 id="编程式导航"><a href="#编程式导航" class="header-anchor">#</a> 编程式导航</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>this.props.history.push(path)
this.props.history.replace(path)
this.props.history.goBack()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="高阶函数和高阶组件"><a href="#高阶函数和高阶组件" class="header-anchor">#</a> 高阶函数和高阶组件</h2> <ul><li>高阶函数
<ul><li>接受的参数是函数或者返回值是函数</li> <li>常见的：数组遍历的相关方法/定时器/bind/promise/From.create()(组件)</li> <li>作用：实现一个更加强大，动态的功能</li></ul></li> <li>高阶组件
<ul><li>本质是一个函数，函数接受一个组件，返回一个新的组件</li> <li>常见的高阶组件：Form.create()(组件) 返回一个props中包含from属性的新的组件     connect()(ui组件) 返回容器组件</li></ul></li></ul> <h2 id="补充"><a href="#补充" class="header-anchor">#</a> 补充</h2> <ul><li>开发环境命令 npm start
<ul><li>在内存中打包，生成内存中的打包文件</li> <li>启动服务器，运行内存中的打包文件</li></ul></li> <li>生产环境打包并运行，命令npm  run  build    serve  build
<ul><li>在内存中打包，生成内存中的打包文件</li> <li>将内存中的打包文件保存到本地</li> <li>加载本地打包文件到内存</li> <li>启动服务器运行，在浏览器中通过虚拟地址来访问得到的相应资源</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
<span class="token comment">//所有路由组件的props中都有location、history、match这三个属性，普通UI组件使用withRouter包一下就会得到路由组件的三个属性，location、history、match</span>

<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname<span class="token comment">//当前浏览器的路由地址</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="区别ui组件和容器组件"><a href="#区别ui组件和容器组件" class="header-anchor">#</a> 区别UI组件和容器组件</h2> <ul><li>react-redux提出的</li> <li>UI组件：只负责界面的显示，不会使用redux相关语法</li> <li>容器组件：包装UI组件，向UI组件提供状态数据和更新状态数据的行为，通过connect连接UI组件和redux</li></ul> <h2 id="区别react中的事件和原生dom事件"><a href="#区别react中的事件和原生dom事件" class="header-anchor">#</a> 区别react中的事件和原生DOM事件</h2> <ul><li>为了解决跨浏览器的兼容性问题，React将浏览器原生事件封装为合成事件</li> <li>React并没有直接将事件绑定到子元素上，而是将事件绑定在了组件的根元素上，使用（事件委托）</li></ul> <h2 id="事件委托"><a href="#事件委托" class="header-anchor">#</a> 事件委托</h2> <ol><li>什么是事件委托
<ol><li>将子元素的事件委托(绑定)给父元素</li></ol></li> <li>事件委托的好处
<ol><li>减少绑定的次数</li> <li>提高性能</li> <li>新添加的子元素也能享用之前绑定的事件</li></ol></li> <li>事件委托的原理
<ol><li>冒泡</li></ol></li> <li>触发事件的是谁
<ol><li>子元素</li></ol></li> <li>如何找到触发事件的子元素
<ol><li>event.targe</li></ol></li></ol> <h2 id="受控组件"><a href="#受控组件" class="header-anchor">#</a> 受控组件</h2> <ul><li>组件中的表单项能在输入过程中自动收集输入数据到状态中，给表单项绑定onChange监听，在回调函数中通过setState实现</li></ul> <h2 id="谈谈你对redux的理解"><a href="#谈谈你对redux的理解" class="header-anchor">#</a> 谈谈你对redux的理解</h2> <ul><li><p>首先redux是一个独立专门用于做状态管理的JS库（并不是react插件库）</p></li> <li><p>可以与任何前端库配合使用，但最合适的是react</p></li> <li><p>作用，集中管理react应用中多个组件共享的状态，简化react的开发流程，并且降低组件之间的耦合度</p></li> <li><p>store</p> <ul><li>管理state，唯一的数据源是action</li> <li>管理reducer</li></ul></li> <li><p>reducer</p> <ul><li><p>reducer服务于store对象，为store对象提供初始化state的状态值</p></li> <li><p>根据老的state和action来产生返回一个新的state</p></li> <li><p>reducer的本质是方法，初始化store中state的状态，帮助<strong>store</strong>对象修改<strong>state</strong>的状态值，<strong>switch和case的用法，里面设置具体的业务逻辑，需要注意的点是不能直接修改</strong>state对象，常用[...state]<strong>浅克隆一个新的</strong>state对象，第一个参数是state，利用形参默认值设置初始化的值，第二个参数是action对象。修改state的状态其实就是调用reducer方法，里面传的是一个action对象</p></li> <li><p>一个reducer通常只负责操作一个状态数据，如果有多组数据，需要创建多个reducer，</p> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>combineReducers<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;redux&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>AReducer<span class="token punctuation">,</span>AReducer<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>action</p> <ul><li><p>action本质是一个对象，定义的时候需要定义成方法，返回值是一个对象，这样可以传递数据进去，提供最新的数据，是store中state的唯一数据来源</p></li> <li><p>异步action</p> <ul><li>异步action: 核心思想： 异步action返回值还是一个函数，redux会自动将dispatch注入，什么时候分发action使用者说了算</li></ul></li></ul></li> <li><p>action-type</p> <ul><li>包含多个同步action的type名称常量</li></ul> <h2 id="redux编码"><a href="#redux编码" class="header-anchor">#</a> redux编码</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//创建store</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">,</span> applyMiddleware<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
<span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span><span class="token comment">//异步action</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>composeWithDevTools<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux-devtools-extension'</span>
<span class="token comment">//redux开发者工具</span>
<span class="token keyword">import</span> counterReducer <span class="token keyword">from</span> <span class="token string">'./reducers'</span>
<span class="token comment">//创建store对象，申明使用redux开发者工具，redux本身不能处理异步任务，在创建store的时候申明使用中间件处理异步任务</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>counterReducer<span class="token punctuation">,</span> <span class="token function">composeWithDevTools</span><span class="token punctuation">(</span><span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//reducer</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  combineReducers
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  <span class="token constant">HEADER_TITLE</span><span class="token punctuation">,</span>
  <span class="token constant">USER_MSG</span><span class="token punctuation">,</span>
  <span class="token constant">USER_ERROR</span><span class="token punctuation">,</span>
  <span class="token constant">USER_REMOVE</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./action-types'</span>
<span class="token comment">//第一个</span>
<span class="token keyword">const</span> uiniState <span class="token operator">=</span> <span class="token string">'首页'</span>
<span class="token keyword">function</span> <span class="token function">headerTitle</span><span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> uiniState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token constant">HEADER_TITLE</span><span class="token operator">:</span>
      <span class="token keyword">return</span> action<span class="token punctuation">.</span>data
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//第二个</span>
<span class="token keyword">function</span> <span class="token function">userMsg</span><span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> user<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token constant">USER_MSG</span><span class="token operator">:</span>
      <span class="token keyword">return</span> action<span class="token punctuation">.</span>data
    <span class="token keyword">case</span> <span class="token constant">USER_REMOVE</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  headerTitle<span class="token punctuation">,</span>
  userMsg
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//action</span>
<span class="token comment">//异步action,返回一个函数，自动注入dispatch</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">incrementAction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">'increment'</span><span class="token punctuation">,</span> data<span class="token operator">:</span> number<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//需要data就设置，不需要就不需要设置，比如要清空state中的某一个状态数据</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">userMsgAction</span> <span class="token operator">=</span>  <span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token parameter">dispath</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">reqLogin</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">dispath</span><span class="token punctuation">(</span><span class="token function">userLoginAction</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
      message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'登录成功'</span><span class="token punctuation">)</span>
      <span class="token function">setUser</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><ul><li>原生redux编码</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//原生redux引入store对象的编码</span>
<span class="token comment">// 渲染整个应用</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>App store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 监听store对象发生变化</span>
store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我监听到你变化了。。。'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>App store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//获取store</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//分发action</span>
<span class="token comment">//dispatch做了什么</span>
<span class="token comment">//1 传递action对象</span>
<span class="token comment">//2 间接导致store去reducer调用</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ul><li>react-redux编码</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//react-redux引入store对象</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'../src/redux/store'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>App<span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span>
<span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//包装UI组件成为容器组件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> removeUserAction <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../redux/actions'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>
  <span class="token parameter">state</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>title<span class="token operator">:</span>state<span class="token punctuation">.</span>headerTitle<span class="token punctuation">,</span>user<span class="token operator">:</span>state<span class="token punctuation">.</span>userMsg<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> removeUserAction <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">(</span>Header<span class="token punctuation">)</span>

<span class="token comment">//在UI组件中使用state和调用action</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>user<span class="token punctuation">.</span>username
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>title
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">removeUserAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li></ul> <h2 id="react中的虚拟dom-diff算法（different"><a href="#react中的虚拟dom-diff算法（different" class="header-anchor">#</a> React中的虚拟DOM diff算法（different)</h2> <ul><li>理解dom树</li> <li>React将真实的DOM树映射出一颗虚拟DOM树</li> <li>每次setState时产生一颗新的虚拟DOM树</li> <li>将新树和老树去对比，找出变化的部分，局部渲染变化的部分</li> <li>实现的效果：最小化页面重绘</li> <li>提高性能</li></ul> <h2 id="react中遍历生成多个个体（item）时，添加key属性的作用"><a href="#react中遍历生成多个个体（item）时，添加key属性的作用" class="header-anchor">#</a> React中遍历生成多个个体（item）时，添加key属性的作用</h2> <ul><li>key是当前个体的唯一标识</li> <li>当数据发生改变时，就是通过对应的key去比较</li> <li>对比过程有以下几种情况
<ul><li>key没有变化
<ul><li>对应的item数据也没有变化，直接使用原来的真实DOM</li> <li>对应的item数据变化，对原来的真实的DOM进行数据更新</li></ul></li> <li>key变了
<ul><li>原key变化，销毁原来的真实的DOM，根据item数据创建新的虚拟DOM，随后渲染真实的DOM到页面（即使item数据没有变化）</li> <li>新key产生，根据item数据创建新的虚拟DOM，随后渲染真实DOM到页面</li></ul></li></ul></li> <li>key是index的问题
<ul><li>添加删除排序---导致index变化---产生没有必要的真实DOM的更新，界面效果没有问题，但是效率低</li> <li>如果item界面还有输入框---产生错误的真实DOM更新，界面有问题，比如一个列表，每一项中都有一个input输入框，里面有相对应的内容，如果用index作为key，在最前面添加了新的item，这时index就会全部重新排一次，此时原来的第一项变成了第二项，但是input会成为新添加的item的，因为他会找到他原来对应的key,原来是0，现在也会去找0，所以页面展示会有问题</li> <li>但其实如果仅仅是作为页面的额展示，其实是没有问题的</li></ul></li></ul> <h2 id="自定义封装组件"><a href="#自定义封装组件" class="header-anchor">#</a> 自定义封装组件</h2> <ul><li>直接在标签中间写文本（也可以添加标签内容），会自动添加到this.props.children中</li> <li>显示的时候相当于将{ this.props.children }放在了自定义组件的中间</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//创建时</span>
<span class="token keyword">function</span> <span class="token function">MyNavLink</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">&lt;</span>NavLink <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>NavLink<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token comment">//调用时</span>
<span class="token operator">&lt;</span>MyNavLink to<span class="token operator">=</span><span class="token string">&quot;/home&quot;</span><span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>MyNavLink<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/7/2021, 12:27:21 AM</span></div></footer> <!----> <!----> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-40a3448a><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#react的理解" class="sidebar-link" data-v-40a3448a>react的理解</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#创建虚拟dom" class="sidebar-link" data-v-40a3448a>创建虚拟DOM</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#函数组件" class="sidebar-link" data-v-40a3448a>函数组件</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#类的方式创建组件" class="sidebar-link" data-v-40a3448a>类的方式创建组件</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#state" class="sidebar-link" data-v-40a3448a>state</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#关于this" class="sidebar-link" data-v-40a3448a>关于this</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#props" class="sidebar-link" data-v-40a3448a>Props</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#refs属性" class="sidebar-link" data-v-40a3448a>refs属性</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#区别三大属性" class="sidebar-link" data-v-40a3448a>区别三大属性</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#生命周期函数（钩子）" class="sidebar-link" data-v-40a3448a>生命周期函数（钩子）</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#react组件化编码的三个步骤和两个重要问题" class="sidebar-link" data-v-40a3448a>React组件化编码的三个步骤和两个重要问题</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#react中的组件间通信的4种方式" class="sidebar-link" data-v-40a3448a>React中的组件间通信的4种方式</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#谈谈react-router的理解" class="sidebar-link" data-v-40a3448a>谈谈react-router的理解</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#路由传参" class="sidebar-link" data-v-40a3448a>路由传参</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#编程式导航" class="sidebar-link" data-v-40a3448a>编程式导航</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#高阶函数和高阶组件" class="sidebar-link" data-v-40a3448a>高阶函数和高阶组件</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#补充" class="sidebar-link" data-v-40a3448a>补充</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#区别ui组件和容器组件" class="sidebar-link" data-v-40a3448a>区别UI组件和容器组件</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#区别react中的事件和原生dom事件" class="sidebar-link" data-v-40a3448a>区别react中的事件和原生DOM事件</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#事件委托" class="sidebar-link" data-v-40a3448a>事件委托</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#受控组件" class="sidebar-link" data-v-40a3448a>受控组件</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#谈谈你对redux的理解" class="sidebar-link" data-v-40a3448a>谈谈你对redux的理解</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#redux编码" class="sidebar-link" data-v-40a3448a>redux编码</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#react中的虚拟dom-diff算法（different" class="sidebar-link" data-v-40a3448a>React中的虚拟DOM diff算法（different)</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#react中遍历生成多个个体（item）时，添加key属性的作用" class="sidebar-link" data-v-40a3448a>React中遍历生成多个个体（item）时，添加key属性的作用</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/react/react01.html#自定义封装组件" class="sidebar-link" data-v-40a3448a>自定义封装组件</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.1cf7dfac.js" defer></script><script src="/assets/js/3.f4fb3d7b.js" defer></script><script src="/assets/js/1.3aa5e91a.js" defer></script><script src="/assets/js/65.3f99d282.js" defer></script>
  </body>
</html>
