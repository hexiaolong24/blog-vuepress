<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue | 8_KOBE_24</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/logo.jpeg">
    <meta name="description" content="愿你走出半生 归来仍是少年">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.bfc5d3a4.css" as="style"><link rel="preload" href="/assets/js/app.1cf7dfac.js" as="script"><link rel="preload" href="/assets/js/3.f4fb3d7b.js" as="script"><link rel="preload" href="/assets/js/1.3aa5e91a.js" as="script"><link rel="preload" href="/assets/js/49.a8f88b68.js" as="script"><link rel="prefetch" href="/assets/js/10.fcffca06.js"><link rel="prefetch" href="/assets/js/11.61138578.js"><link rel="prefetch" href="/assets/js/12.3e888d92.js"><link rel="prefetch" href="/assets/js/13.d4ad8b10.js"><link rel="prefetch" href="/assets/js/14.d5723f16.js"><link rel="prefetch" href="/assets/js/15.531ccdbc.js"><link rel="prefetch" href="/assets/js/16.157944be.js"><link rel="prefetch" href="/assets/js/17.1226ec6b.js"><link rel="prefetch" href="/assets/js/18.1cea280e.js"><link rel="prefetch" href="/assets/js/19.b2523bf2.js"><link rel="prefetch" href="/assets/js/20.f009eb16.js"><link rel="prefetch" href="/assets/js/21.daac1cc8.js"><link rel="prefetch" href="/assets/js/22.3656f6fc.js"><link rel="prefetch" href="/assets/js/23.73e9c445.js"><link rel="prefetch" href="/assets/js/24.05cad245.js"><link rel="prefetch" href="/assets/js/25.ff1c0d24.js"><link rel="prefetch" href="/assets/js/26.9781fad2.js"><link rel="prefetch" href="/assets/js/27.2a0e2b58.js"><link rel="prefetch" href="/assets/js/28.93f516a7.js"><link rel="prefetch" href="/assets/js/29.1146e8df.js"><link rel="prefetch" href="/assets/js/30.9aa95942.js"><link rel="prefetch" href="/assets/js/31.d44dc315.js"><link rel="prefetch" href="/assets/js/32.ae92aef7.js"><link rel="prefetch" href="/assets/js/33.5be8a872.js"><link rel="prefetch" href="/assets/js/34.7a86e974.js"><link rel="prefetch" href="/assets/js/35.ab3202a3.js"><link rel="prefetch" href="/assets/js/36.8865a8bf.js"><link rel="prefetch" href="/assets/js/37.460e71a3.js"><link rel="prefetch" href="/assets/js/38.4f835cf5.js"><link rel="prefetch" href="/assets/js/39.daf467a9.js"><link rel="prefetch" href="/assets/js/4.72038e90.js"><link rel="prefetch" href="/assets/js/40.d9d30a89.js"><link rel="prefetch" href="/assets/js/41.ff910c42.js"><link rel="prefetch" href="/assets/js/42.33aaf0ed.js"><link rel="prefetch" href="/assets/js/43.3d2deb44.js"><link rel="prefetch" href="/assets/js/44.8ebdde94.js"><link rel="prefetch" href="/assets/js/45.2c5e798a.js"><link rel="prefetch" href="/assets/js/46.ea5211ce.js"><link rel="prefetch" href="/assets/js/47.944e7b46.js"><link rel="prefetch" href="/assets/js/48.cc935dc4.js"><link rel="prefetch" href="/assets/js/5.737f605f.js"><link rel="prefetch" href="/assets/js/50.2e9ab8ec.js"><link rel="prefetch" href="/assets/js/51.5d473f04.js"><link rel="prefetch" href="/assets/js/52.cc64b79e.js"><link rel="prefetch" href="/assets/js/53.a08e96d8.js"><link rel="prefetch" href="/assets/js/54.f413c85d.js"><link rel="prefetch" href="/assets/js/55.9fd344e1.js"><link rel="prefetch" href="/assets/js/56.91968754.js"><link rel="prefetch" href="/assets/js/57.653d7c8d.js"><link rel="prefetch" href="/assets/js/58.643b8e03.js"><link rel="prefetch" href="/assets/js/59.f0e853b1.js"><link rel="prefetch" href="/assets/js/6.5d7ff82c.js"><link rel="prefetch" href="/assets/js/60.eeae0424.js"><link rel="prefetch" href="/assets/js/61.0e2aa74f.js"><link rel="prefetch" href="/assets/js/62.e7ca5fff.js"><link rel="prefetch" href="/assets/js/63.878e5005.js"><link rel="prefetch" href="/assets/js/64.5f416ccd.js"><link rel="prefetch" href="/assets/js/65.3f99d282.js"><link rel="prefetch" href="/assets/js/66.cb87b199.js"><link rel="prefetch" href="/assets/js/67.92d947a9.js"><link rel="prefetch" href="/assets/js/68.e47312f7.js"><link rel="prefetch" href="/assets/js/69.7f33d89a.js"><link rel="prefetch" href="/assets/js/7.5b3bf9ae.js"><link rel="prefetch" href="/assets/js/70.de156ce4.js"><link rel="prefetch" href="/assets/js/71.556b3d18.js"><link rel="prefetch" href="/assets/js/72.886aabdd.js"><link rel="prefetch" href="/assets/js/73.392d4771.js"><link rel="prefetch" href="/assets/js/74.0d8b363c.js"><link rel="prefetch" href="/assets/js/75.128d1a24.js"><link rel="prefetch" href="/assets/js/76.e6ed6931.js"><link rel="prefetch" href="/assets/js/77.b8470665.js"><link rel="prefetch" href="/assets/js/78.37412e41.js"><link rel="prefetch" href="/assets/js/79.63dc52a9.js"><link rel="prefetch" href="/assets/js/8.afb0abf3.js"><link rel="prefetch" href="/assets/js/80.c98aacb3.js"><link rel="prefetch" href="/assets/js/81.6af83755.js"><link rel="prefetch" href="/assets/js/82.04be33b9.js"><link rel="prefetch" href="/assets/js/83.25933a1e.js"><link rel="prefetch" href="/assets/js/9.230b9328.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bfc5d3a4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-dad8a512><div data-v-dad8a512><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-dad8a512 data-v-dad8a512><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-dad8a512 data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>8_KOBE_24</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>hexiaolong</span>
            
          <span data-v-64685f0e>2020 - </span>
          2021
        </a></span></div></div> <div class="hide" data-v-dad8a512><header class="navbar" data-v-dad8a512><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpeg" alt="8_KOBE_24" class="logo"> <span class="site-name">8_KOBE_24</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  KOBE
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      前端总结
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/CSS/" class="nav-link"><i class="iconfont undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Happy/" class="nav-link"><i class="iconfont undefined"></i>
  Happy
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/Jenkins/" class="nav-link"><i class="iconfont undefined"></i>
  Jenkins
</a></li><li class="dropdown-item"><!----> <a href="/categories/nginx/" class="nav-link"><i class="iconfont undefined"></i>
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue.js/" class="nav-link"><i class="iconfont undefined"></i>
  Vue.js
</a></li><li class="dropdown-item"><!----> <a href="/categories/electron/" class="nav-link"><i class="iconfont undefined"></i>
  electron
</a></li><li class="dropdown-item"><!----> <a href="/categories/network/" class="nav-link"><i class="iconfont undefined"></i>
  network
</a></li><li class="dropdown-item"><!----> <a href="/categories/nw/" class="nav-link"><i class="iconfont undefined"></i>
  nw
</a></li><li class="dropdown-item"><!----> <a href="/categories/pro/" class="nav-link"><i class="iconfont undefined"></i>
  pro
</a></li><li class="dropdown-item"><!----> <a href="/categories/React.js/" class="nav-link"><i class="iconfont undefined"></i>
  React.js
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpack/" class="nav-link"><i class="iconfont undefined"></i>
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  逝水流年
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-coding"></i>
      解忧杂货铺
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Kobe Bryant</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/kobe/record/" class="nav-link"><i class="iconfont undefined"></i>
  辉煌生涯
</a></li><li class="dropdown-subitem"><a href="/docs/kobe/shoes/" class="nav-link"><i class="iconfont undefined"></i>
  球鞋
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/docs/home/" class="nav-link"><i class="iconfont undefined"></i>
  此心安处是吾乡
</a></li><li class="dropdown-item"><!----> <a href="/docs/chaoliu/" class="nav-link"><i class="iconfont undefined"></i>
  愿我如星君如月
</a></li><li class="dropdown-item"><!----> <a href="/docs/offwhite/" class="nav-link"><i class="iconfont undefined"></i>
  夜夜流光相皎洁
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/hexiaolong24" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-dad8a512></div> <aside class="sidebar" data-v-dad8a512><div class="personal-info-wrapper" data-v-ca798c94 data-v-dad8a512><img src="/hxl.png" alt="author-avatar" class="personal-img" data-v-ca798c94> <h3 class="name" data-v-ca798c94>
    hexiaolong
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>57</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>26</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  KOBE
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      前端总结
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/CSS/" class="nav-link"><i class="iconfont undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Happy/" class="nav-link"><i class="iconfont undefined"></i>
  Happy
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="iconfont undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/Jenkins/" class="nav-link"><i class="iconfont undefined"></i>
  Jenkins
</a></li><li class="dropdown-item"><!----> <a href="/categories/nginx/" class="nav-link"><i class="iconfont undefined"></i>
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue.js/" class="nav-link"><i class="iconfont undefined"></i>
  Vue.js
</a></li><li class="dropdown-item"><!----> <a href="/categories/electron/" class="nav-link"><i class="iconfont undefined"></i>
  electron
</a></li><li class="dropdown-item"><!----> <a href="/categories/network/" class="nav-link"><i class="iconfont undefined"></i>
  network
</a></li><li class="dropdown-item"><!----> <a href="/categories/nw/" class="nav-link"><i class="iconfont undefined"></i>
  nw
</a></li><li class="dropdown-item"><!----> <a href="/categories/pro/" class="nav-link"><i class="iconfont undefined"></i>
  pro
</a></li><li class="dropdown-item"><!----> <a href="/categories/React.js/" class="nav-link"><i class="iconfont undefined"></i>
  React.js
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpack/" class="nav-link"><i class="iconfont undefined"></i>
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  逝水流年
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-coding"></i>
      解忧杂货铺
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Kobe Bryant</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/kobe/record/" class="nav-link"><i class="iconfont undefined"></i>
  辉煌生涯
</a></li><li class="dropdown-subitem"><a href="/docs/kobe/shoes/" class="nav-link"><i class="iconfont undefined"></i>
  球鞋
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/docs/home/" class="nav-link"><i class="iconfont undefined"></i>
  此心安处是吾乡
</a></li><li class="dropdown-item"><!----> <a href="/docs/chaoliu/" class="nav-link"><i class="iconfont undefined"></i>
  愿我如星君如月
</a></li><li class="dropdown-item"><!----> <a href="/docs/offwhite/" class="nav-link"><i class="iconfont undefined"></i>
  夜夜流光相皎洁
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/hexiaolong24" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Vue</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>hexiaolong</span>
            
          <span data-v-64685f0e>2020 - </span>
          2021
        </a></span></div></div> <div data-v-dad8a512><main class="page"><div class="page-title" style="display:none;"><h1>Vue</h1> <hr> <div data-v-aa64b9d0><i class="iconfont reco-account" data-v-aa64b9d0><span data-v-aa64b9d0>hexiaolong</span></i> <i class="iconfont reco-date" data-v-aa64b9d0><span data-v-aa64b9d0>2019-04-11</span></i> <i class="iconfont reco-eye" data-v-aa64b9d0><span id="/blogs/Vue/Vue.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-aa64b9d0><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-aa64b9d0><span class="tag-item" data-v-aa64b9d0>Vue</span><span class="tag-item" data-v-aa64b9d0>前端</span><span class="tag-item" data-v-aa64b9d0>框架</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="vue框架特点"><a href="#vue框架特点" class="header-anchor">#</a> vue框架特点</h2> <ol><li><p>是一套构建用户界面(<code>user interface</code>)的渐进式框架。与其他重量级框架不同的是，<code>Vue</code> 从根本上采用最小成本、渐进增量(<code>incrementally adoptable</code>)的设计。<code>Vue</code> 的核心库只专注于视图层，并且很容易与其他第三方库或现有项目集成。\</p></li> <li><p>使用的是<code>MVVM</code>架构模式</p> <ul><li><p>M： <code>Model</code>数据层，负责保存数据</p></li> <li><p>VM： <code>ViewModel</code>控制层, 负责接收<code>View</code>和用户响应，将数据传递给<code>Model</code>或者从<code>Model</code>中获取数据交给<code>View</code>展现</p></li> <li><p>V： <code>View</code>视图层，负责从<code>controller</code>层获取数据显示数据及响应用户操作</p></li> <li><p>重点: <code>VM</code>层和<code>Model</code>层及<code>View</code>层实现了双向数据通信，当<code>View</code>层或者<code>Model</code>层的数据变化的时候都能够通过数据流管道直接导向对方，不需要做额外处理，优点是数据驱动，数据通信灵敏及时，<code>ViewModel</code>负荷减轻</p></li></ul></li> <li><p>MVC</p> <ul><li><p>M： <code>Model</code>数据层，负责保存数据</p></li> <li><p>C： <code>Controller</code>控制层, 负责接收<code>View</code>和用户响应，将数据传递给<code>Model</code>或者从<code>Model</code>中获取数据交给<code>View</code>展现</p></li> <li><p>V： <code>View</code>视图层，负责从<code>controller</code>层获取数据显示数据及响应用户操作</p></li> <li><p>重点： <code>Model</code>和<code>View</code>没有直接通信，都是通过中间人<code>Controller</code>来传递，所以<code>Controller</code>中的负荷越来越重</p></li></ul></li></ol> <h2 id="生命周期函数"><a href="#生命周期函数" class="header-anchor">#</a> 生命周期函数</h2> <ol><li><p>beforeCreate（<code>$el</code>不可见）</p> <ul><li><p>在实例初始化之后，立即同步调用，在数据观察(<code>data observer</code>)和 <code>event/watcher</code> 配置之前被调用。</p></li> <li><p>自己理解：数据初始化之前，<code>vm</code>实例已经创建，<code>$el</code>不可见</p></li></ul></li> <li><p>created（<code>$el</code>不可见）</p> <ul><li><p>实例已经创建完成之后被调用。在这一步，实例已完成以下的配置：数据观测(<code>data observer</code>)，属性和方法的运算， <code>watch/event</code> 事件回调。然而，挂载阶段还没开始，<code>$el</code> 属性目前不可见。</p></li> <li><p>自己理解：数据初始化之后，已经实现数据代理，数据绑定，双向数据绑定</p></li></ul></li> <li><p>beforeMount（<code>$el</code>不可见）</p> <ul><li><p>在挂载开始之前被调用：相关的 <code>render</code> 函数首次被调用。</p></li> <li><p>在<code>beforeMount</code>的时候发送请求处理大量数据的话会导致页面渲染时间延长，造成用户体验差</p></li> <li><p>特例： 首屏首次渲染的时候立马需要的数据可以在<code>beforeMount</code>发送，数据量不能太大</p></li></ul></li> <li><p>mounted（<code>$el</code>可见）</p> <ul><li>在实例挂载之后调用，其中 <code>el</code> 被新创建的 <code>vm.$el</code> 替代。如果 <code>root</code> 实例挂载了一个文档内元素，当 <code>mounted</code> 被调用时 <code>vm.$el</code> 也在文档内。</li></ul></li> <li><p>beforeUpdate</p> <ul><li><p>在 <code>DOM</code> 被 <code>patch</code> 之前调用数据修改。这是在 <code>DOM</code> 更新之前，访问已有 <code>DOM</code> 的最佳时机，例如，手动地移除之前添加的事件监听器。</p></li> <li><p>当页面需要数据实时更新的时候可以在这发送<code>ajax</code>请求</p></li></ul></li> <li><p>updated</p> <ul><li><p>由于数据更改导致的虚拟 <code>DOM</code> 重新渲染和打补丁，在这之后会调用该钩子。</p> <p>当这个钩子被调用时，组件 <code>DOM</code> 已经更新，所以你现在可以执行依赖于 <code>DOM</code> 的操作。然而在大多数情况下，应该避免在此期间更改状态。如果要相应状态改变，通常最好使用<a href="https://vue.docschina.org/v2/api/#computed" target="_blank" rel="noopener noreferrer">计算属性<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>或 <a href="https://vue.docschina.org/v2/api/#watch" target="_blank" rel="noopener noreferrer">watcher<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 取而代之。</p></li> <li><p>请注意，更新并不能保证所有子组件也都已重新呈现。如果要等到整个视图重新渲染后，可以在更新后的<code>vm.$nextTick</code>中使用</p></li></ul></li> <li><p>beforeDestroy</p> <ul><li><p>实例销毁之前调用。在这一步，实例仍然完全可用。</p></li> <li><p>可以清除定时器，移除<code>BScroll</code>对象等</p></li></ul></li> <li><p>destroyed</p> <ul><li><code>Vue</code> 实例销毁后调用。调用后，<code>Vue</code> 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁，切断和页面的关联。</li></ul></li> <li><p>errorCaptured</p> <ul><li>当任何一个来自后代组件的错误时被捕获时调用。此钩子函数会收到三个参数：错误对象、发生错误的组件实例，和一个包含错误在何处被捕获信息的字符串。此钩子函数可以返回 <code>false</code>，以阻止该错误继续向上冒泡。</li></ul></li> <li><p>activated &amp;&amp; deactivated</p> <ul><li><p>当组件在 <code>&lt;keep-alive&gt;</code> 内被切换，它的 <code>activated</code> 和 <code>deactivated</code> 这两个生命周期钩子函数将会被对应执行。</p></li> <li><p>进入调用<code>activated</code>，离开调用<code>deactivated</code></p></li></ul></li></ol> <h2 id="路由传参"><a href="#路由传参" class="header-anchor">#</a> 路由传参</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query
<span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params
<span class="token comment">//可以监视$route的变化，获取最新的参数</span>
watch<span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">$route</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">const</span> id <span class="token operator">=</span> value<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//编程式导航</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol><li><code>params</code>传参</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//route</span>
<span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token string">'/home/message/detial/:id'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span>homeMessageDetail<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//params传参,必须用name</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code>//第一种写法
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`/home/message/detial/${item.id}`<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;/home/message/detial/&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//第二种写法</span>
<span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Detail&quot;</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span><span class="token string">'/home/message/detial/:id'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span>homeMessageDetail<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{name:<span class="token punctuation">'</span>Detail<span class="token punctuation">'</span>,params:{id:item.id}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li><code>query</code>传参</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code>//query传参，可以用name也可以用path，一般用path，也可以直接拼串
//第一种
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{name:<span class="token punctuation">'</span>Detail<span class="token punctuation">'</span>,query:{id:item.id}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

//第二种
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{path:<span class="token punctuation">'</span>/home/message/detial<span class="token punctuation">'</span>,query:{id:item.id}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

//第三种
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`/home/message/detial?name=${item.id}`<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="3"><li><code>meta</code>传参</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token string">'/home/message/detial'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span>homeMessageDetail<span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span><span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="4"><li><code>props</code>传参</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token comment">//使用的话需要在组件内声明接收。</span>
<span class="token comment">//第一种布尔值需要params或者query传参,布尔值用来声明是否将params参数传入当前的路由组件的props中。</span>
<span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token string">'/home/message/detial'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span>homeMessageDetail<span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span><span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//第二种对象，不需要params或者query传参</span>
<span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token string">'/home/message/detial'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span>homeMessageDetail<span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span><span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment">//第三种函数（能够拿到当前的路由对象），需要params或者query传参,声明形参，注入实参，实参就是当前跳转的路由对象。写好后直接取就行了</span>
<span class="token function-variable function">props</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">route</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ol start="5"><li><code>router-view</code>传参</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code>//只要被router-view包含的路由组件中，都可以通过this.$attrs来获取到这个参数
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>kobe<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//获取参数</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$attrs<span class="token punctuation">.</span>msg<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="组件通信"><a href="#组件通信" class="header-anchor">#</a> 组件通信</h2> <ol><li>props传参</li></ol> <p>1 多用于‘父传子’， 通过标签属性传递，在子组件通过<code>props</code>接收
2 子传父，在父组件定义一个函数，子组件调用函数
3 隔代相传，复杂繁琐
4 兄弟之间传递，必须通过父组件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// props声明接受的三种方式</span>
props<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">]</span>

props<span class="token operator">:</span><span class="token punctuation">{</span>
	name<span class="token operator">:</span>String<span class="token punctuation">,</span>
	age<span class="token operator">:</span>Number
<span class="token punctuation">}</span>

props<span class="token operator">:</span><span class="token punctuation">{</span>
	name<span class="token operator">:</span><span class="token punctuation">{</span>type<span class="token operator">:</span> String<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>注意：
通过props传递的数据如果是基本数据类型，在子组件中修改了，不会影响父组件中的显示，不会报错，但是会有警告，如果是引用数据类型，父组件中的状态也会改变，因为传递的是引用地址，也不会报错，但是不要这样做，因为父组件的状态有可能是多个组件在共同使用，所以数据在哪，就在哪修改数据
对比：在React中如果是基本数据类型会报错，引用数据类型不会报错</p></blockquote> <ol start="2"><li>自定义事件</li></ol> <ul><li><p>父组件中通过标签属性的形式，向子组件传递一个在父组件定义的函数 <code>@addToDo='addtodo'</code>,在子组件中通过<code>this.$emit('addtodo',数据)</code>分发,给谁绑定谁才能分发事件，可以代替子传父的函数传参，通过标签属性的形式，自定义事件，<code>v-on:事件名='xxx'</code></p></li> <li><p>父通过<code>ref</code>找到子组件</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$ref<span class="token punctuation">.</span>xxx<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'addtodo'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>addtodo<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>自定义事件总线</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$globalEventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$globalEventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'事件名'</span>，回调函数<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$globalEventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'事件名'</span>，数据<span class="token punctuation">)</span>
<span class="token comment">//传哪个解哪个，不传都解</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$globalEventBus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'事件名'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="4"><li>slot插槽</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code>// 1 普通插槽 父传子

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>默认值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span>想要的标签结构<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>

// 2 具名插槽

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>left<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>默认值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>right<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>默认值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>left<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>right<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>

// 3 作用域插槽
// 数据在子组件，子组件有部分结构需要父组件传递过去，但是父组件又会依据子组件传过来的数据，显示相应的结构
// 子组件传递数据
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span>
    <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo in todos<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">v-bind:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo.id<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 我们为每个 todo 提供一个 slot 元素， --&gt;</span>
    <span class="token comment">&lt;!-- 然后，将 `todo` 对象作为 slot 元素的一个 prop 传入。 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>todo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 这里是回退内容(fallback content) --&gt;</span>
      {{ todo.text }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>


// 父组件接收
// slot-scope的属性值是一个对象，里面包含着子组件传过来的数据
// slot-scope=&quot;{ todo }&quot;可以使用ES6的语法，解构赋值

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>todo-list</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>todos</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todos<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 将 `slotProps` 作为插槽内容所在作用域(slot scope)的引用名称 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slotProps<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 为 todo items 定义一个模板， --&gt;</span>
    <span class="token comment">&lt;!-- 通过 `slotProps` 访问每个 todo 对象。 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slotProps.todo.isComplete<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>✓<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    {{ slotProps.todo.text }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>todo-list</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><ol start="5"><li><p>pubsub</p></li> <li><p>$refs</p></li> <li><p>vuex</p></li></ol> <h1 id="vuex"><a href="#vuex" class="header-anchor">#</a> vuex</h1> <ol><li><p>对应用中组件的状态进行集中式的管理(读/写)</p></li> <li><p>多用于中大型项目，组件嵌套层级较多，数据较为复杂的场景</p></li> <li><p>核心概念</p> <ul><li>store：状态管理对象</li> <li>mutations：本质是函数，负责为<code>store</code>提供修改后的最新的数据</li> <li>actions：本质是函数，负责调用<code>mutations</code>并为<code>mutations</code>提供参与修改状态的最新数据</li> <li>dispatch：本质是函数负责分发调用指定的<code>action</code>，并且为<code>action</code>提供数据</li> <li>commit：本质是函数，调用<code>mutations</code>，并且为<code>mutations</code>提供数据</li> <li>发送异步请求必须在<code>actions</code>中，如果不发请求，可以不写<code>actions</code>，直接<code>commit</code></li> <li>getters：依据<code>state</code>计算出新的状态数据</li></ul></li> <li><p>代码模板</p></li></ol> <p>index.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mutations<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
  getters<span class="token punctuation">,</span>
  modules<span class="token operator">:</span><span class="token punctuation">{</span>
    Msite<span class="token punctuation">,</span>
    Shop<span class="token punctuation">,</span>
    User
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>模块</li> <li><code>mutations</code>中可以接受两个参数<code>(state,goods)</code></li> <li><code>actions</code>中也可以接受两个参数<code>({ commit,state },{ isAdd,food })</code></li> <li><code>commit(RESET_RATINGS,ratings)</code></li> <li><code>this.$store.dispatch('updateFoodCount',{isAdd,food:this.food})</code></li> <li>在模块化中取<code>state</code>的方法</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">shopcart</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>Shop<span class="token punctuation">.</span>shopcart<span class="token punctuation">,</span>
  <span class="token function-variable function">info</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>Shop<span class="token punctuation">.</span>info
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>在模块化中取<code>getters</code>与原来相同<code>...mapGetters([&quot;totalCount&quot;, &quot;totalPrice&quot;])</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  <span class="token constant">RESET_GOODS</span><span class="token punctuation">,</span>
  <span class="token constant">RESET_RATINGS</span><span class="token punctuation">,</span>
  <span class="token constant">RESET_INFO</span><span class="token punctuation">,</span>
  <span class="token constant">ADD_FOOD_COUNT</span><span class="token punctuation">,</span>
  <span class="token constant">REDUCE_FOOD_COUNT</span><span class="token punctuation">,</span>
  <span class="token constant">CLEAR_ALL</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../mutation_types'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> reqGoods<span class="token punctuation">,</span> reqInfo<span class="token punctuation">,</span> reqRatings <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../api&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
  goods<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  ratings<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  info<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  shopcart<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">RESET_GOODS</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> goods</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>goods <span class="token operator">=</span> goods
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token constant">RESET_RATINGS</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> ratings</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>ratings <span class="token operator">=</span> ratings
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token constant">RESET_INFO</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>info <span class="token operator">=</span> info
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">//增加</span>
  <span class="token punctuation">[</span><span class="token constant">ADD_FOOD_COUNT</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span><span class="token punctuation">{</span> food <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>food<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      food<span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">//原有的数据是可以监视的，但是如果是自己新添加的，就不会获得监视，页面不能同时更新</span>
      <span class="token comment">//必须使用Vue.set,添加一个响应式的属性</span>
      <span class="token comment">// food.coutn = 1 错误的</span>
      Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>food<span class="token punctuation">,</span><span class="token string">'count'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
      state<span class="token punctuation">.</span>shopcart<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//减少</span>
  <span class="token punctuation">[</span><span class="token constant">REDUCE_FOOD_COUNT</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span><span class="token punctuation">{</span>food<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>food<span class="token punctuation">.</span>count<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      food<span class="token punctuation">.</span>count<span class="token operator">--</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>food<span class="token punctuation">.</span>count <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>shopcart<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>shopcart<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//清空购物车</span>
  <span class="token punctuation">[</span><span class="token constant">CLEAR_ALL</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>shopcart<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">food</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      food<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    state<span class="token punctuation">.</span>shopcart <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">getGoods</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">reqGoods</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> goods <span class="token operator">=</span> result<span class="token punctuation">.</span>data
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">RESET_GOODS</span><span class="token punctuation">,</span>goods<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token function">getInfo</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">reqInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> info <span class="token operator">=</span> result<span class="token punctuation">.</span>data
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">RESET_INFO</span><span class="token punctuation">,</span>info<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token function">getRatings</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">reqRatings</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> ratings <span class="token operator">=</span> result<span class="token punctuation">.</span>data
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">RESET_RATINGS</span><span class="token punctuation">,</span>ratings<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">updateFoodCount</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>isAdd<span class="token punctuation">,</span> food<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isAdd<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//增加</span>
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">ADD_FOOD_COUNT</span><span class="token punctuation">,</span><span class="token punctuation">{</span>food<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">//减少</span>
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">REDUCE_FOOD_COUNT</span><span class="token punctuation">,</span><span class="token punctuation">{</span>food<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">totalCount</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> state<span class="token punctuation">.</span>shopcart<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span>food</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pre <span class="token operator">+</span> food<span class="token punctuation">.</span>count<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">totalPrice</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> state<span class="token punctuation">.</span>shopcart<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span>food</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pre <span class="token operator">+</span> food<span class="token punctuation">.</span>count<span class="token operator">*</span>food<span class="token punctuation">.</span>price<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
  state<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
  getters
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br></div></div><h2 id="computed、methods、watch"><a href="#computed、methods、watch" class="header-anchor">#</a> computed、methods、watch</h2> <ul><li><p>计算属性的结果会被缓存，除非依赖的响应式属性变化才会重新计算。注意，如果实例范畴之外的依赖 (比如非响应式的 <code>not reactive</code>) 是不会触发计算属性更新的。</p></li> <li><p><code>computed</code> 属性会基于它所依赖的数据进行缓存。每个 <code>computed</code> 属性，只有在它所依赖的数据发生变化时，才会重新取值(<code>re-evaluate</code>)。这就意味着，只要 <code>message</code> 没有发生变化，多次访问 <code>computed</code> 属性 ，将会立刻返回之前计算过的结果，而不必每次都重新执行函数。</p></li> <li><p>相比之下，每当触发重新渲染(<code>re-render</code>)时，<code>method</code> 调用方式将总是再次执行函数。</p></li> <li><p>为什么我们需要将依赖数据缓存起来？假设一种场景，我们有一个高性能开销(<code>expensive</code>)的 <code>computed</code> 属性 <strong>A</strong>，在 <code>computed</code> 属性的 <code>getter</code> 函数内部，需要遍历循环一个巨大数组，并进行大量计算。然后还有其他 <code>computed</code> 属性直接或间接依赖于 <strong>A</strong>。如果没有缓存，我们将不可避免地多次执行 <strong>A</strong> 的 <code>getter</code> 函数，这远多余实际需要执行的次数！然而在某些场景下，你可能不希望有缓存，请使用 <code>method</code> 方法替代。</p></li> <li><p><code>watch</code> 属性是很吸引人的使用方式，然而，当你有一些数据需要随着另外一些数据变化时，过度滥用 <code>watch</code> 属性会造成一些问题 - 尤其是那些具有 <code>AngularJS</code> 开发背景的开发人员。因此，更推荐的方式是，使用 <code>computed</code> 属性，而不是命令式(<code>imperative</code>)的 <code>watch</code> 回调函数</p></li> <li><p>虽然在大多数情况下，更适合使用 <code>computed</code> 属性，然而有些时候，还是需要一个自定义 <code>watcher</code>。这就是为什么 <code>Vue</code> 要通过 <code>watch</code> 选项，来提供一个更加通用的响应数据变化的方式。当你需要在数据变化响应时，执行异步操作，或高性能消耗的操作，自定义 <code>watcher</code> 的方式就会很有帮助。</p></li> <li><p>什么时候想缓存中添加计算属性</p> <ul><li><p><code>get</code>返回一个新的值</p></li> <li><p>主动改变了属性</p></li></ul></li> <li><p>调用了<code>get</code>方法返回了一个新的值，不会调用<code>set</code>方法</p></li></ul> <h2 id="过滤器"><a href="#过滤器" class="header-anchor">#</a> 过滤器</h2> <ul><li>过滤器可以在两种场景中使用：<strong>双花括号插值(mustache interpolation)和 v-bind 表达式</strong>。过滤器应该追加到 JavaScript 表达式的末尾，以“管道符号(<code>pipe symbol</code>)”表示</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- in mustaches --&gt;</span>
{{ message | capitalize }}

<span class="token comment">&lt;!-- in v-bind --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rawId | formatId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//局部定义</span>
filters<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">capitalize</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">''</span>
    value <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//在创建Vue实例之前，定义一个全局的过滤器</span>
Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'capitalize'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">''</span>
  value <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//链式调用</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token operator">|</span> filterA <span class="token operator">|</span> filterB <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="自定义指令"><a href="#自定义指令" class="header-anchor">#</a> 自定义指令</h2> <h3 id="指令钩子函数"><a href="#指令钩子函数" class="header-anchor">#</a> 指令钩子函数</h3> <ul><li><p><code>bind</code>：在指令第一次绑定到元素时调用，只会调用一次。可以在此钩子函数中，执行一次性的初始化设置。</p></li> <li><p><code>inserted</code>：在已绑定的元素插入到父节点时调用（只能保证父节点存在，不一定存在于 <code>document</code> 中）</p></li> <li><p><code>update</code>：在包含指令的组件的 <code>VNode</code> 更新后调用，<strong>但可能之前其子组件已更新</strong>。指令的值可能更新或者还没更新，然而可以通过比较绑定的当前值和旧值，来跳过不必要的更新（参考下面的钩子函数）</p></li> <li><p><code>componentUpdated</code>：在包含指令的组件的 <code>VNode</code> 更新后调用，并且其子组件的 <code>VNode</code> 已更新。</p></li> <li><p><code>unbind</code>：在指令从元素上解除绑定时调用，只会调用一次。</p></li></ul> <h3 id="参数"><a href="#参数" class="header-anchor">#</a> 参数</h3> <ul><li><p><code>el</code>：指令绑定的元素。可以用于直接操作 <code>DOM</code></p></li> <li><p><code>binding</code>：一个对象，包含以下属性</p> <ul><li><code>name</code>：指令的名称，不包括 <code>v-</code> 前缀</li> <li><code>value</code>：向指令传入的值</li> <li><code>oldValue</code>：之前的值，只在 <code>update</code> 和 <code>componentUpdated</code> 钩子函数中可用</li> <li><code>expression</code>：指令绑定的表达式(<code>expression</code>)，以字符串格式</li> <li><code>arg</code>：向指令传入的参数</li> <li><code>modifiers</code>：一个对象，包含修饰符，如果有的话</li></ul></li> <li><p><code>vnode</code>：由 <code>Vue</code> 编译器(<code>Vue’s compiler</code>)生成的虚拟 <code>Node</code> 节点(<code>virtual node</code>)</p></li> <li><p><code>oldVnode</code>：之前的虚拟 <code>Node</code> 节点(<code>virtual node</code>)，只在 <code>update</code> 和 <code>componentUpdated</code>钩子函数中可用</p></li></ul> <h1 id="vue扩展"><a href="#vue扩展" class="header-anchor">#</a> vue扩展</h1> <h2 id="动态组件、缓存组件、异步组件"><a href="#动态组件、缓存组件、异步组件" class="header-anchor">#</a> 动态组件、缓存组件、异步组件</h2> <ol><li><p>动态组件
通过<code>&lt;component :is=&quot;componentName&quot;&gt;</code>来动态决定渲染哪个组件
被切换的组件默认会被自动销毁</p></li> <li><p>缓存组件
通过<code>&lt;keep-alive&gt;</code>来缓存被切换的动态组件(非路由组件)
也可以缓存路由组件</p></li> <li><p>异步组件（路由懒加载）
在需要组件时, 才异步请求加载组件的代码,动态<code>import()</code>按照一定的条件或者按需加载模块
<code>const Miste = () =&gt; import('文件路径')</code></p></li></ol> <h2 id="图片懒加载"><a href="#图片懒加载" class="header-anchor">#</a> 图片懒加载</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> VueLazyload <span class="token keyword">from</span> <span class="token string">'vue-lazyload'</span>
<span class="token keyword">import</span> loading <span class="token keyword">from</span> <span class="token string">'图片路径'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueLazyload<span class="token punctuation">,</span><span class="token punctuation">{</span>
	loading
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>使用示例，如果涉及到当前图片是动态的，有可能切换显示，必须使用v-if，因为用了图片懒加载之后，用v-show默认你是有一张图片的，那这样就不会接受新的图片，不能实现切换的效果</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">v-lazy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>food.image<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="路由守卫"><a href="#路由守卫" class="header-anchor">#</a> 路由守卫</h2> <p>全局路由守卫直接写在<code>router</code>文件夹的<code>index.js</code>中，组件路由守卫直接写在组件中。路由守卫的另一个用法，如果一个组件没有被<code>&lt;keep-alive&gt;</code>包住，可以在<code>beforeDestory</code>中做清除的相关操作，但是如果被包住了，说明路由组件不能销毁，如果需要在离开或者进入的时候做相关操作，可以使用组件路由守卫，也可以使用<code>activated</code>和<code>deactivated</code>的生命周期函数</p> <h2 id="mixin混合-不推荐使用，后期维护成本大"><a href="#mixin混合-不推荐使用，后期维护成本大" class="header-anchor">#</a> mixin混合(不推荐使用，后期维护成本大)</h2> <ol><li>作用:
复用多个组件重复的JS代码(配置)
一个<code>mixin</code>是一个可复用的组件配置对象</li> <li>定义<code>mixin</code></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> myMixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token string">'a1111'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">length</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">.</span>length
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="3"><li>多组件中引入<code>mixin</code>,通过<code>mixins</code>配置引用,mixin中的配置与当前组件的配置会自动合并</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>mixins<span class="token operator">:</span> <span class="token punctuation">[</span>myMixin<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="原生事件和vue自定义事件"><a href="#原生事件和vue自定义事件" class="header-anchor">#</a> 原生事件和vue自定义事件</h2> <ol><li>什么时候是DOM原生事件</li></ol> <p>a) 给<code>html</code>标签绑定的<code>dom事件监听</code></p> <p>b) 给组件标签绑定的<code>dom事件监听</code>，必须使用<code>.native</code>,绑定到了组件的根元素上</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyCommponent</span> <span class="token attr-name">@click.native</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>什么时候是自定义事件</li></ol> <p>a) 自定义事件名
b) 给组件绑定<code>dom事件监听</code>,但是没有用<code>.native</code></p> <h2 id="在组件标签上使用v-model"><a href="#在组件标签上使用v-model" class="header-anchor">#</a> 在组件标签上使用v-model</h2> <ol><li><code>v-model</code>的本质</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 相当于下面的表达式 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name = $event.target.value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>在自定义组件上使用<code>v-model</code></li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 相当于下面的表达式 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyInput</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 这里的input是自定义事件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyInput</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>handleinput<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">handleinput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>value
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 在 MyInput.vue 中，声明接受value，并且给input绑定input监听，分发事件 --&gt;</span>
props: ['value']
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>value<span class="token punctuation">'</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$emit(<span class="token punctuation">'</span>input<span class="token punctuation">'</span>, $event.target.value)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="vue的响应式原理"><a href="#vue的响应式原理" class="header-anchor">#</a> vue的响应式原理</h2> <ol><li>关注点有哪些?</li></ol> <ul><li><code>vue</code>的数据绑定效果: 组件更新<code>data</code>数据后, 当前组件及相关的子组件都会更新相应的节点</li> <li>如何知道数据变化了?</li> <li>通知哪些组件更新渲染?</li> <li>组件更新渲染是同步还是异步的?</li></ul> <ol start="2"><li>基本原理</li></ol> <ul><li>在初始化时: 利用<code>Object.defineProperty()</code>给<code>data</code>属性添加 <code>setter</code> 监视数据变化</li> <li>在初始化时: 每个组件实例都有相应的观察者 <code>watcher</code> 对象, 每个属性都关联上所有相关的<code>watcher</code>对象</li> <li>在更新数据后: 对应的<code>setter</code>调用, 通知所有相关的<code>watcher</code>, <code>watcher</code>内异步更新节点或者子组件</li></ul> <ol start="3"><li>一些细节</li></ol> <ul><li>只有<code>data</code>中属性是响应式的, 只在组件对象上的属性不是响应式的</li> <li><code>data</code>中所有层次属性都是响应式的</li> <li>直接给<code>data</code>中响应式属性对象添加一个新的属性, 默认不是响应式的, 需要用<code>Vue</code>提供的语法添加</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> propName<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
vm<span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> propName<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>vue</code>的异步更新:
<ul><li><code>vue</code> 在内部尝试对异步队列使用原生的 <code>Promise.then</code> 和 <code>MessageChannel</code>，</li> <li>如果执行环境不支持，会采用 <code>setTimeout(fn, 0)</code> 代替</li></ul></li> <li>关于<code>&lt;Root&gt;</code>组件标签:
<ul><li>整体应用界面的根标签不是<code>&lt;App&gt;</code>, 而是<code>&lt;Root&gt;</code>,</li> <li><code>&lt;Root&gt;</code>对应的是<code>vm</code></li> <li>index页面中的的<code>div</code>元素会被替换, 而不是插入其中</li></ul></li> <li>组件的<code>data</code>配置为什么不能是对象?
<ul><li>组件会被多次使用, 每次使用都会读取<code>data</code>配置值, 如果是对象, 那就会共用一个<code>data</code>对象</li> <li>而函数就没有问题, 因为每次调用函数返回一个新的<code>data</code>对象</li></ul></li></ul></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/23/2020, 10:27:33 PM</span></div></footer> <!----> <!----> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-40a3448a><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#vue框架特点" class="sidebar-link" data-v-40a3448a>vue框架特点</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#生命周期函数" class="sidebar-link" data-v-40a3448a>生命周期函数</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#路由传参" class="sidebar-link" data-v-40a3448a>路由传参</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#组件通信" class="sidebar-link" data-v-40a3448a>组件通信</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#computed、methods、watch" class="sidebar-link" data-v-40a3448a>computed、methods、watch</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#过滤器" class="sidebar-link" data-v-40a3448a>过滤器</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#自定义指令" class="sidebar-link" data-v-40a3448a>自定义指令</a></li><li class="level-3" data-v-40a3448a><a href="/blogs/Vue/Vue.html#指令钩子函数" class="sidebar-link" data-v-40a3448a>指令钩子函数</a></li><li class="level-3" data-v-40a3448a><a href="/blogs/Vue/Vue.html#参数" class="sidebar-link" data-v-40a3448a>参数</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#动态组件、缓存组件、异步组件" class="sidebar-link" data-v-40a3448a>动态组件、缓存组件、异步组件</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#图片懒加载" class="sidebar-link" data-v-40a3448a>图片懒加载</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#路由守卫" class="sidebar-link" data-v-40a3448a>路由守卫</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#mixin混合-不推荐使用，后期维护成本大" class="sidebar-link" data-v-40a3448a>mixin混合(不推荐使用，后期维护成本大)</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#原生事件和vue自定义事件" class="sidebar-link" data-v-40a3448a>原生事件和vue自定义事件</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#在组件标签上使用v-model" class="sidebar-link" data-v-40a3448a>在组件标签上使用v-model</a></li><li class="level-2" data-v-40a3448a><a href="/blogs/Vue/Vue.html#vue的响应式原理" class="sidebar-link" data-v-40a3448a>vue的响应式原理</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.1cf7dfac.js" defer></script><script src="/assets/js/3.f4fb3d7b.js" defer></script><script src="/assets/js/1.3aa5e91a.js" defer></script><script src="/assets/js/49.a8f88b68.js" defer></script>
  </body>
</html>
